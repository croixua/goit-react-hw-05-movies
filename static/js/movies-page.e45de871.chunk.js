"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[493],{843:function(t,n,e){e.r(n),e.d(n,{default:function(){return j}});var r=e(861),c=e(152),a=e(757),u=e.n(a),o=e(791),i=e(871),s=e(410),f=e(313),h="SearchBar_form__WUc1Z",m="SearchBar_button__CJvWU",v="SearchBar_input__GJmyc",l=e(184);var p=function(t){var n=t.onSubmit,e=(0,o.useState)(""),r=(0,c.Z)(e,2),a=r[0],u=r[1];return(0,l.jsxs)("form",{className:h,onSubmit:function(t){if(t.preventDefault(),""===a.trim())return alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441");n(a),u("")},children:[(0,l.jsx)("button",{type:"submit",className:m,children:(0,l.jsx)(f.jRj,{size:"1.5em"})}),(0,l.jsx)("input",{value:a,onChange:function(t){var n=t.target.value;u(n)},className:v,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})]})},d=e(169),_=e(912),x=e(635);e(862);var j=function(){var t=(0,i.TH)(),n=(0,i.s0)(),e=(0,o.useState)([]),a=(0,c.Z)(e,2),f=a[0],h=a[1],m=(0,o.useState)(null),v=(0,c.Z)(m,2),j=v[0],y=v[1],w=(0,o.useState)(!1),g=(0,c.Z)(w,2),k=g[0],b=g[1];(0,o.useEffect)((function(){var n=new URLSearchParams(t.search).get("query");n&&(b(!0),y(null),h([]),S(n))}),[t.search]);var S=function(){var t=(0,r.Z)(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.z1(n).then(h).catch((function(t){var n=t.message;return y(n)}));case 2:b(!1);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p,{onSubmit:function(t){n("?query=".concat(t))}}),f&&(0,l.jsx)(d.Z,{movies:f}),j&&(0,l.jsx)(_.Z,{message:j}),k&&(0,l.jsx)(s.Z,{count:10,width:400})]})}},635:function(t,n,e){e.d(n,{_M:function(){return d},qD:function(){return _},wr:function(){return l},yY:function(){return x},z1:function(){return p}});var r=e(861),c=e(757),a=e.n(c),u="31a0dc93409a2f9cdc2f4d925fcba2bc",o="https://api.themoviedb.org/3",i="/search/movie",s="/movie/";function f(){return h.apply(this,arguments)}function h(){return h=(0,r.Z)(a().mark((function t(){var n,e,r,c=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:"",t.next=3,fetch(n);case 3:return e=t.sent,t.next=6,e.json();case 6:return r=t.sent,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}var m=function(t){var n=t.results;return n&&0!==n.length?n:Promise.reject(new Error("No movies requested"))},v=function(t){return t&&!1!==t.success?t:Promise.reject(new Error("Not found movie"))};function l(){return f("".concat(o).concat("/trending/movie/day","?api_key=").concat(u)).then(m)}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n="".concat(o).concat(i,"?api_key=").concat(u,"&query=").concat(t);return t.trim()?f(n).then(m):alert("enter the movie")}function d(t){return f("".concat(o).concat(s).concat(t,"?api_key=").concat(u)).then(v)}function _(t){return f("".concat(o).concat(s).concat(t,"/credits?api_key=").concat(u)).then(v)}function x(t){return f("".concat(o).concat(s).concat(t,"/reviews?api_key=").concat(u)).then(m)}},169:function(t,n,e){e.d(n,{Z:function(){return u}});var r=e(504),c=e(871),a=e(184);var u=function(t){var n=t.movies,e=(0,c.TH)(),u=e.pathname,o=e.search;return(0,a.jsx)("ul",{children:n.map((function(t){var n=t.original_title,e=t.id;return(0,a.jsx)("li",{children:(0,a.jsx)(r.rU,{to:"/movies/".concat(e),state:{from:{pathname:u,search:o}},children:n})},e)}))})}},912:function(t,n,e){e.d(n,{Z:function(){return c}});var r=e(184);function c(t){var n=t.message;return(0,r.jsx)("h1",{children:n})}}}]);
//# sourceMappingURL=movies-page.e45de871.chunk.js.map